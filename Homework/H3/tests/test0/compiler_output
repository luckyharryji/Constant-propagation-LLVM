  %call1 = tail call i64 @CAT_get_signed_value(i8* %call) #3
i64 5
whole function

; Function Attrs: nounwind ssp uwtable
define void @CAT_execution(i32 %userInput) #0 {
entry:
  %call = tail call i8* @CAT_create_signed_value(i64 5) #3
  %call1 = tail call i64 @CAT_get_signed_value(i8* %call) #3
  %call2 = tail call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str, i64 0, i64 0), i64 %call1)
  %call3 = tail call i8* @CAT_create_signed_value(i64 8) #3
  %cmp = icmp sgt i32 %userInput, 10
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  tail call void @CAT_binary_add(i8* %call3, i8* %call3, i8* %call3) #3
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %call4 = tail call i64 @CAT_get_signed_value(i8* %call3) #3
  %call5 = tail call i32 (i8*, ...) @printf(i8* nonnull getelementptr inbounds ([21 x i8], [21 x i8]* @.str.1, i64 0, i64 0), i64 %call4)
  %call6 = tail call i8* @CAT_create_signed_value(i64 0) #3
  tail call void @CAT_binary_add(i8* %call6, i8* %call, i8* %call3) #3
  %call7 = tail call i64 @CAT_get_signed_value(i8* %call6) #3
  %call8 = tail call i32 (i8*, ...) @printf(i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.2, i64 0, i64 0), i64 %call7)
  ret void
}

Replace Instruction  %call1 = tail call i64 @CAT_get_signed_value(i8* %call) #3
call1
  %call = tail call i8* @CAT_create_signed_value(i64 5) #3
  %call2 = tail call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str, i64 0, i64 0), i64 5)
  %call3 = tail call i8* @CAT_create_signed_value(i64 8) #3
  %cmp = icmp sgt i32 %userInput, 10
  br i1 %cmp, label %if.then, label %if.end
0  libLLVM-3.8.dylib        0x000000010c187892 llvm::sys::PrintStackTrace(llvm::raw_ostream&) + 43
1  libLLVM-3.8.dylib        0x000000010c1871db llvm::sys::RunSignalHandlers() + 44
2  libLLVM-3.8.dylib        0x000000010c187d92 SignalHandler(int) + 164
3  libsystem_platform.dylib 0x00007fff974fe52a _sigtramp + 26
4  libsystem_platform.dylib 0x00007fff554aef08 _sigtramp + 3187345912
5  CAT.dylib                0x000000010d1286d9 llvm::ilist_nextprev_traits<llvm::Instruction>::getNext(llvm::Instruction*) + 25
6  CAT.dylib                0x000000010d12431f llvm::ilist_iterator<llvm::Instruction>::operator++() + 31
7  CAT.dylib                0x000000010d1219b3 (anonymous namespace)::CAT::runOnFunction(llvm::Function&) + 19251
8  libLLVM-3.8.dylib        0x000000010bc6c1c9 llvm::FPPassManager::runOnFunction(llvm::Function&) + 297
9  libLLVM-3.8.dylib        0x000000010bc6c36d llvm::FPPassManager::runOnModule(llvm::Module&) + 41
10 libLLVM-3.8.dylib        0x000000010bc6c6ab llvm::legacy::PassManagerImpl::run(llvm::Module&) + 617
11 clang                    0x000000010a91a32a llvm::raw_ostream& llvm::WriteGraph<clang::serialization::ModuleManager>(llvm::raw_ostream&, clang::serialization::ModuleManager const&, bool, llvm::Twine const&) + 10494
12 clang                    0x000000010aa4d781 std::__1::__split_buffer<std::__1::pair<clang::CXXRecordDecl const*, unsigned int>, std::__1::allocator<std::__1::pair<clang::CXXRecordDecl const*, unsigned int> >&>::~__split_buffer() + 8621
13 clang                    0x000000010a7b058f std::__1::back_insert_iterator<llvm::SmallVectorImpl<clang::FileID> > std::__1::__set_intersection<std::__1::__less<clang::FileID, clang::FileID>&, clang::FileID*, clang::FileID*, std::__1::back_insert_iterator<llvm::SmallVectorImpl<clang::FileID> > >(clang::FileID*, clang::FileID*, clang::FileID*, clang::FileID*, std::__1::back_insert_iterator<llvm::SmallVectorImpl<clang::FileID> >, std::__1::__less<clang::FileID, clang::FileID>&) + 5883
14 clang                    0x000000010a782a7b std::__1::__split_buffer<clang::CompilerInstance*, std::__1::allocator<clang::CompilerInstance*>&>::~__split_buffer() + 16755
15 clang                    0x000000010a756e7b std::__1::pair<std::__1::__tree_iterator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::__tree_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, void*>*, long>, bool> std::__1::__tree<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::__insert_unique<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&&) + 5129
16 clang                    0x000000010a74ebd2
17 clang                    0x000000010a755382 std::__1::enable_if<!(std::is_array<llvm::raw_fd_ostream>::value), std::__1::unique_ptr<llvm::raw_fd_ostream, std::__1::default_delete<llvm::raw_fd_ostream> > >::type llvm::make_unique<llvm::raw_fd_ostream, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, std::__1::error_code&, llvm::sys::fs::OpenFlags>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&&&, std::__1::error_code&&&, llvm::sys::fs::OpenFlags&&) + 8909
18 libdyld.dylib            0x00007fff963795ad start + 1
19 libdyld.dylib            0x0000000000000030 start + 1774742148
Stack dump:
0.	Program arguments: /usr/local/Cellar/llvm38/3.8.0/lib/llvm-3.8/bin/clang -cc1 -triple x86_64-apple-macosx10.11.0 -Wdeprecated-objc-isa-usage -Werror=deprecated-objc-isa-usage -emit-obj -mrelax-all -disable-free -main-file-name program1.bc -mrelocation-model pic -pic-level 2 -mthread-model posix -mdisable-fp-elim -masm-verbose -munwind-tables -target-cpu core2 -target-linker-version 253.9 -dwarf-column-info -debugger-tuning=lldb -resource-dir /usr/local/Cellar/llvm38/3.8.0/lib/llvm-3.8/bin/../lib/clang/3.8.0 -fdebug-compilation-dir /Users/xiangyu/Documents/git/LLVM-compiler-practice/Homework/H3/tests/test0 -ferror-limit 19 -fmessage-length 0 -stack-protector 1 -fblocks -fobjc-runtime=macosx-10.11.0 -fencode-extended-block-signature -fmax-type-align=16 -fdiagnostics-show-option -load /Users/xiangyu/CAT/bin/../lib/CAT.dylib -o /var/folders/8r/rhb22sy543b1w68xznl373mm0000gn/T/program1-a6c768.o -x ir program1.bc 
1.	Per-module optimization passes
2.	Running pass 'Function Pass Manager' on module 'program1.bc'.
3.	Running pass 'Homework for the CAT class' on function '@CAT_execution'
clang: error: unable to execute command: Segmentation fault: 11
clang: error: clang frontend command failed due to signal (use -v to see invocation)
clang version 3.8.0 (tags/RELEASE_380/final)
Target: x86_64-apple-darwin15.6.0
Thread model: posix
InstalledDir: /usr/local/bin
clang: note: diagnostic msg: PLEASE submit a bug report to http://llvm.org/bugs/ and include the crash backtrace, preprocessed source, and associated run script.
clang: note: diagnostic msg: Error generating preprocessed source(s) - no preprocessable inputs.
